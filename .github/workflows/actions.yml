name: CI
on:
  push:
    branches:
     - master
  workflow_dispatch:
env:
     PRIVATE_KEY: ${{ secrets.PRIVATE_KEY }}
     HOST: ${{ secrets.HOST }}
     USER: ${{ secrets.USER }}  
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
     - name: Checkout Code
       uses: actions/checkout@v3
     - run: echo "${{ env.PRIVATE_KEY }}" > private_key
     - run: chmod 400 private_key
     - run: ls -rlt .
     - run: ssh -o StrictHostKeyChecking=no -i private_key ${{ env.USER }}@${{ env.HOST }} '
            sudo ls -rlt
            sudo mkdir abc
            sudo cd abc
            sudo touch abc{1..5}'
